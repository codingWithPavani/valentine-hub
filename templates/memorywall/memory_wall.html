<!DOCTYPE html>
<html>
<head>
    <title>Valentine World üíï</title>
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', 'Arial', sans-serif;
            background: linear-gradient(135deg, #fff5f8 0%, #fff0f7 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated Hearts Background */
        .hearts-bg {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 0;
        }

        .heart {
            position: absolute;
            color: rgba(255, 182, 193, 0.1);
            font-size: 20px;
            animation: floatHearts 25s linear infinite;
        }

        @keyframes floatHearts {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.1;
            }
            90% {
                opacity: 0.1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Enhanced Header */
        header {
            background: linear-gradient(90deg, #ff6fae 0%, #ffafbd 50%, #ffc3a0 100%);
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 8px 32px rgba(255, 111, 174, 0.2);
            position: relative;
            z-index: 1000;
            border-bottom: 3px solid rgba(255, 255, 255, 0.2);
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, 
                #ff6fae, #ff8fab, #ffafbd, #ffc3a0,
                #ff6fae, #ff8fab, #ffafbd, #ffc3a0);
            background-size: 400% 400%;
            animation: shimmer 8s ease infinite;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Logo Styling */
        .logo {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(45deg, #fff, #ffebf0);
            color: transparent;
            display: inline-block;
            -webkit-background-clip: text;
            background-clip: text;
            padding: 10px 20px;
            border-radius: 20px;
            background-color: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            text-shadow: none;
        }

        /* Navigation Styling */
        nav {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        nav a {
            text-decoration: none;
            color: white;
            font-weight: 600;
            padding: 12px 24px;
            border-radius: 50px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }

        nav a:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
        }

        nav a:hover::before {
            left: 100%;
        }

        /* Content Area */
        .content {
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 30px;
            margin-top: 50px;
            color: #ff8fab;
            font-size: 14px;
            border-top: 2px solid #ffd1dc;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                padding: 20px;
                gap: 20px;
            }
            
            .logo {
                font-size: 24px;
                padding: 8px 16px;
            }
            
            nav {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav a {
                padding: 10px 18px;
                font-size: 14px;
            }
            
            .content {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 20px;
            }
            
            nav a {
                padding: 8px 14px;
                font-size: 13px;
            }
            
            nav {
                gap: 10px;
            }
        }

        /* Animation for page transitions */
        .content {
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #ffe4ec;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(#ff6fae, #ffafbd);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(#ff5ca0, #ff8fab);
        }

        /* ENHANCED MEMORY WALL STYLES */
        .memory-wall-section {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        
        .memory-wall-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .memory-wall-title {
            color: #ff6fae;
            font-size: 3.5rem;
            margin-bottom: 15px;
            text-shadow: 3px 3px 6px rgba(255, 182, 193, 0.3);
            position: relative;
            display: inline-block;
            font-family: 'Brush Script MT', cursive;
        }
        
        .memory-wall-title::before,
        .memory-wall-title::after {
            content: 'üíñ';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2.5rem;
            animation: sparkle 2s infinite;
        }
        
        .memory-wall-title::before {
            left: -70px;
        }
        
        .memory-wall-title::after {
            right: -70px;
        }
        
        .memory-wall-subtitle {
            color: #ff8fab;
            font-size: 1.4rem;
            font-style: italic;
            font-weight: 300;
        }
        
        /* Photo Grid Layout - Valentine Style */
 .valentine-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 15px; /* Reduced gap for overlapping */
    margin-top: 40px;
    position: relative;
}

/* Add overlapping card styles */
.valentine-card {
    position: relative;
    border-radius: 25px;
    overflow: hidden;
    aspect-ratio: 1;
    background: white;
    box-shadow: 
        0 15px 35px rgba(255, 111, 174, 0.15),
        0 0 0 2px white,
        0 0 0 4px #ffd1dc;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    transform-style: preserve-3d;
    perspective: 1000px;
    /* Add these for overlap */
    margin: 10px;
    z-index: 1;
}

/* Add different positions for cards to create overlap effect */
.valentine-card:nth-child(3n+1) {
    transform: translate(-5px, -5px) rotate(-2deg);
}

.valentine-card:nth-child(3n+2) {
    transform: translate(5px, 8px) rotate(3deg);
    z-index: 2;
}

.valentine-card:nth-child(3n+3) {
    transform: translate(-8px, 12px) rotate(-4deg);
}

.valentine-card:nth-child(4n+1) {
    transform: translate(10px, -8px) rotate(5deg);
}

.valentine-card:nth-child(5n+2) {
    transform: translate(-12px, 5px) rotate(-3deg);
}

.valentine-card:nth-child(6n+3) {
    transform: translate(7px, -10px) rotate(2deg);
}

/* Hover effect with increased overlap */
.valentine-card:hover {
    transform: translateY(-12px) rotateY(5deg) rotateX(5deg) scale(1.05) !important;
    z-index: 10 !important;
    box-shadow: 
        0 25px 50px rgba(255, 111, 174, 0.25),
        0 0 0 2px white,
        0 0 0 4px #ff6fae,
        0 0 30px rgba(255, 111, 174, 0.3);
}

/* Add a subtle shadow behind for depth */
.valentine-card::after {
    content: '';
    position: absolute;
    top: 10px;
    left: 10px;
    right: -10px;
    bottom: -10px;
    background: rgba(255, 111, 174, 0.1);
    border-radius: 25px;
    z-index: -1;
    opacity: 0.5;
    transition: all 0.3s ease;
}

.valentine-card:hover::after {
    opacity: 0.8;
    transform: translate(5px, 5px);
}
        .valentine-card:hover {
            transform: translateY(-12px) rotateY(5deg) rotateX(5deg);
            box-shadow: 
                0 25px 50px rgba(255, 111, 174, 0.25),
                0 0 0 2px white,
                0 0 0 4px #ff6fae;
        }
        
        /* Card Frame Decoration */
        .card-frame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.8) 2px, transparent 3px),
                radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.8) 2px, transparent 3px),
                radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.8) 2px, transparent 3px),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.8) 2px, transparent 3px);
            border: 8px solid transparent;
            border-image: linear-gradient(45deg, #ff6fae, #ffafbd, #ffc3a0) 1;
        }
        
        .valentine-card:nth-child(3n+1) .card-frame {
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
        }
        
        .valentine-card:nth-child(3n+2) .card-frame {
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
        }
        
        .valentine-card:nth-child(3n+3) .card-frame {
            border-radius: 40% 60% 70% 30% / 40% 50% 50% 60%;
        }
        
        /* Photo Image */
.photo-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
    position: relative;
    z-index: 1;
    border: 3px solid white;
    box-sizing: border-box;
}
        .valentine-card:hover .photo-image {
            transform: scale(1.08);
        }
        
        /* Overlay with Valentine Details */
        .photo-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(255, 111, 174, 0.9) 0%, rgba(255, 111, 174, 0.7) 50%, transparent 100%);
            padding: 25px 20px 20px;
            transform: translateY(100%);
            transition: transform 0.4s ease;
            z-index: 3;
            color: white;
            text-align: center;
        }
        
        .valentine-card:hover .photo-overlay {
            transform: translateY(0);
        }
        
        .photo-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 8px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            font-family: 'Comic Sans MS', cursive;
        }
        
        .photo-description {
            font-size: 0.95rem;
            opacity: 0.9;
            line-height: 1.4;
            margin-bottom: 10px;
            font-style: italic;
        }
        
        .photo-date {
            font-size: 0.85rem;
            opacity: 0.8;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        /* Heart Decoration on Hover */
        .heart-float {
            position: absolute;
            font-size: 30px;
            color: rgba(255, 255, 255, 0.9);
            animation: floatUp 2s ease-in-out infinite;
            opacity: 0;
            z-index: 4;
            pointer-events: none;
        }
        
        .valentine-card:hover .heart-float {
            opacity: 1;
        }
        
        .heart-float:nth-child(1) {
            top: 20%;
            left: 20%;
            animation-delay: 0s;
        }
        
        .heart-float:nth-child(2) {
            top: 30%;
            right: 25%;
            animation-delay: 0.5s;
        }
        
        .heart-float:nth-child(3) {
            bottom: 40%;
            left: 30%;
            animation-delay: 1s;
        }
        
        /* Add Memory Button - Enhanced */
        .add-memory-container {
            text-align: center;
            margin: 40px 0 60px;
        }
        
        .add-memory-btn {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            background: linear-gradient(135deg, #ff6fae 0%, #ff8fab 100%);
            color: white;
            padding: 18px 45px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.3rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 15px 30px rgba(255, 111, 174, 0.3),
                0 0 0 3px white,
                0 0 0 5px #ffd1dc;
            border: none;
            position: relative;
            overflow: hidden;
            font-family: 'Comic Sans MS', cursive;
        }
        
        .add-memory-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: 0.8s;
        }
        
        .add-memory-btn:hover {
            background: linear-gradient(135deg, #ff5ca0 0%, #ff7a9e 100%);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 
                0 20px 40px rgba(255, 111, 174, 0.4),
                0 0 0 3px white,
                0 0 0 5px #ff6fae;
        }
        
        .add-memory-btn:hover::before {
            left: 100%;
        }
        
        .add-memory-btn:active {
            transform: translateY(-2px) scale(1.02);
        }
        
        .btn-icon {
            font-size: 1.8rem;
            animation: pulse 2s infinite;
        }
        
        /* Empty State */
        .empty-memories {
            grid-column: 1 / -1;
            text-align: center;
            padding: 80px 40px;
            background: linear-gradient(135deg, #fff0f7 0%, #ffeaf2 100%);
            border-radius: 35px;
            border: 4px dashed #ffd1dc;
            position: relative;
            overflow: hidden;
        }
        
        .empty-memories::before {
            content: 'üíñüíïüíù';
            position: absolute;
            font-size: 100px;
            opacity: 0.1;
            transform: rotate(-15deg);
            top: 20px;
            left: 20px;
        }
        
        .empty-icon {
            font-size: 5rem;
            margin-bottom: 25px;
            animation: bounce 2s infinite;
        }
        
        .empty-memories h3 {
            color: #ff6fae;
            font-size: 2.2rem;
            margin-bottom: 15px;
            font-family: 'Brush Script MT', cursive;
        }
        
        .empty-memories p {
            color: #7a5c7c;
            font-size: 1.3rem;
            margin-bottom: 35px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Animations */
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        @keyframes sparkle {
            0%, 100% { 
                opacity: 0.7;
                transform: translateY(-50%) scale(1);
            }
            50% { 
                opacity: 1;
                transform: translateY(-50%) scale(1.3);
            }
        }
        
        @keyframes floatUp {
            0%, 100% { 
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }
            50% { 
                transform: translateY(-20px) rotate(180deg);
                opacity: 1;
            }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        /* Card Stagger Animation */
        .valentine-card {
            opacity: 0;
            transform: translateY(30px) rotate(5deg);
        }
        
        /* Responsive Grid */
        @media (max-width: 1200px) {
            .valentine-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 20px;
            }
        }
        
        @media (max-width: 768px) {
            .memory-wall-title {
                font-size: 2.5rem;
            }
            
            .memory-wall-title::before,
            .memory-wall-title::after {
                display: none;
            }
            
            .valentine-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 15px;
            }
            
            .add-memory-btn {
                padding: 15px 35px;
                font-size: 1.2rem;
            }
        }
        
        @media (max-width: 480px) {
            .valentine-grid {
                grid-template-columns: 1fr;
                max-width: 300px;
                margin-left: auto;
                margin-right: auto;
            }
            
            .memory-wall-title {
                font-size: 2rem;
            }
            
            .empty-memories {
                padding: 50px 20px;
            }
            
            .empty-memories h3 {
                font-size: 1.8rem;
            }
            
            .empty-memories p {
                font-size: 1.1rem;
            }
        }

        /* ENHANCED POPUP STYLES */
        .slideshow-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 9999;
            backdrop-filter: blur(10px);
        }
        
        .close-btn {
            position: absolute;
            top: 30px;
            right: 40px;
            color: white;
            font-size: 35px;
            cursor: pointer;
            background: rgba(255, 111, 174, 0.8);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            border: 3px solid white;
            z-index: 10000;
        }
        
        .close-btn:hover {
            background: rgba(255, 111, 174, 1);
            transform: rotate(90deg) scale(1.1);
        }
        
        .slider-container {
            width: 90%;
            max-width: 1000px;
            overflow: hidden;
            border-radius: 30px;
            box-shadow: 
                0 20px 60px rgba(255, 111, 174, 0.3),
                0 0 0 5px #ff6fae,
                0 0 0 10px rgba(255, 255, 255, 0.1);
        }
        
        .slider-track {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            height: 70vh;
        }
        
        .slider-track img {
            width: 100%;
            flex-shrink: 0;
            object-fit: contain;
            background-color: #000;
        }
        
        .slide-controls {
            margin-top: 30px;
            display: flex;
            align-items: center;
            gap: 30px;
        }
        
        .slide-controls button {
            font-size: 28px;
            padding: 15px 25px;
            margin: 0 5px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            background: rgba(255, 111, 174, 0.9);
            color: white;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 70px;
            height: 70px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            border: 3px solid white;
        }
        
        .slide-controls button:hover {
            background: rgba(255, 111, 174, 1);
            transform: scale(1.15);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }
        
        .slide-controls button:active {
            transform: scale(0.95);
        }
        
        .slide-counter {
            color: white;
            font-size: 22px;
            background: rgba(255, 111, 174, 0.8);
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: 600;
            letter-spacing: 1px;
            border: 3px solid white;
            font-family: 'Comic Sans MS', cursive;
        }
        
        .slide-navigation-dots {
            display: flex;
            justify-content: center;
            margin-top: 25px;
            gap: 15px;
        }
        
        .dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .dot.active {
            background: #ff6fae;
            transform: scale(1.3);
            border-color: white;
        }
        
        .dot:hover {
            background: rgba(255, 111, 174, 0.7);
        }
        
        @media (max-width: 768px) {
            .slider-container {
                width: 95%;
            }
            
            .slider-track {
                height: 60vh;
            }
            
            .slide-controls button {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }
            
            .slide-counter {
                font-size: 18px;
                padding: 10px 20px;
            }
            
            .close-btn {
                top: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 28px;
            }
        }

        /* Music Button */
        #musicBtn {
            position: fixed;
            top: 120px;
            right: 15px;
            background: linear-gradient(135deg, #ff6fae, #ffafbd);
            border: none;
            padding: 15px 18px;
            border-radius: 50%;
            font-size: 28px;
            cursor: pointer;
            z-index: 10000;
            color: white;
            box-shadow: 0 8px 20px rgba(255, 111, 174, 0.3);
            border: 3px solid white;
            transition: all 0.3s ease;
        }
        
        #musicBtn:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 12px 25px rgba(255, 111, 174, 0.4);
        }
        #valentineGrid{
            background-color: pink;
            padding: 70px;
            border-radius: 20px;
        }




        /* Add these to your existing media queries section */

@media (max-width: 768px) {
    /* ... your existing mobile styles ... */
    
    /* Fix overlapping for tablets */
    .valentine-card {
        margin: 5px !important;
        transform: none !important;
    }
    
    /* Reduce overlap effect on mobile */
    .valentine-card:nth-child(3n+1),
    .valentine-card:nth-child(3n+2),
    .valentine-card:nth-child(3n+3),
    .valentine-card:nth-child(4n+1),
    .valentine-card:nth-child(5n+2),
    .valentine-card:nth-child(6n+3) {
        transform: none !important;
    }
    
    /* Remove the ::after shadow on mobile */
    .valentine-card::after {
        display: none;
    }
    
    /* Simplify hover effect for mobile */
    .valentine-card:hover {
        transform: translateY(-8px) scale(1.03) !important;
    }
    
    /* Make overlay visible by default on mobile (for touch) */
    .photo-overlay {
        transform: translateY(0) !important;
        opacity: 0.9;
        background: linear-gradient(to top, rgba(255, 111, 174, 0.95) 0%, rgba(255, 111, 174, 0.7) 100%);
    }
    
    /* Show floating hearts by default on mobile */
    .heart-float {
        opacity: 0.3 !important;
        font-size: 20px !important;
    }
    
    /* Reduce grid gap on mobile */
    .valentine-grid {
        gap: 10px !important;
    }
    
    /* Adjust card hover shadow */
    .valentine-card:hover {
        box-shadow: 
            0 15px 30px rgba(255, 111, 174, 0.2),
            0 0 0 2px white,
            0 0 0 3px #ff6fae !important;
    }
}

@media (max-width: 480px) {
    /* ... your existing small mobile styles ... */
    
    /* Further simplify for very small screens */
    .valentine-card {
        margin: 3px !important;
    }
    
    /* Remove 3D effects on mobile */
    .valentine-card:hover {
        transform: translateY(-5px) !important;
        transform-style: flat !important;
        perspective: none !important;
    }
    
    /* Make images easier to tap */
    .photo-image {
        border: 2px solid white;
    }
    
    /* Adjust grid for single column */
    .valentine-grid {
        grid-template-columns: 1fr !important;
        gap: 15px !important;
        margin: 20px auto !important;
    }
    
    /* Center cards in single column */
    .valentine-card {
        max-width: 300px !important;
        margin: 0 auto 15px !important;
        display: block !important;
    }
    
    /* Remove all transform effects */
    .valentine-card {
        transform: none !important;
    }
    
    /* Ensure proper touch targets */
    .valentine-card,
    .photo-image {
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
    }
}
    </style>
</head>
<body>
    <audio id="bg-music" loop>
        <source src="/media/music/love.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>

    <!-- Animated Hearts Background -->
    <div class="hearts-bg" id="heartsBg"></div>

    <header>
        <div class="logo">üíñ Valentine World</div>
        <nav>
            <a href="/">üè† Home</a>
            {% if user.is_authenticated %}
                <a href="/memory/">‚ù§Ô∏èMemory Wall</a>
                <a href="/memory/add/">‚ûï Add Memory</a>
                <a href="/accounts/logout/">üëã Logout</a>   
            {% else %}
                <a href="/accounts/login/">üîë Login</a>
                <a href="/accounts/register/">‚ú® Register</a>
            {% endif %}
        </nav>
    </header>

    <button id="musicBtn" onclick="toggleMusic()">üîä</button>

    <div class="content">
        <!-- Enhanced Memory Wall Section -->
        <div class="memory-wall-section">
            <!-- Header -->
            <div class="memory-wall-header">
                <h2 class="memory-wall-title">Our Love Memories</h2>
                <p class="memory-wall-subtitle">Every photo tells a story of our love üíñ</p>
            </div>
            
            <!-- Add Memory Button -->
            <div class="add-memory-container">
                <a href="/memory/add/" class="add-memory-btn">
                    <span class="btn-icon">üíù</span>
                    <span class="btn-text">Add New Memory</span>
                </a>
            </div>
            
            <!-- Valentine Photo Grid -->
            <div class="valentine-grid" id="valentineGrid">
                {% for memory in memories %}
                <div class="valentine-card">
                    <div class="card-frame"></div>
                    
                    {% if memory.image %}
                    <img src="{{ memory.image.url }}" 
                         class="photo-image" 
                         onclick="openSlideshow('{{ memory.image.url }}')"
                         alt="{{ memory.title }}">
                    {% endif %}
                    
                    <!-- Floating Hearts -->
                    <div class="heart-float">üíñ</div>
                    <div class="heart-float">üíï</div>
                    <div class="heart-float">üíù</div>
                    
                    <!-- Photo Details Overlay -->
                    <div class="photo-overlay">
                        <h4 class="photo-title">{{ memory.title }}</h4>
                        <p class="photo-description">{{ memory.description|truncatechars:80 }}</p>
                        <!-- <div class="photo-date">
                            <span>üìÖ</span>
                            <span>Special Moment</span>
                        </div> -->
                    </div>
                </div>
                {% empty %}
                <!-- Empty State -->
                <div class="empty-memories">
                    <div class="empty-icon">üíå</div>
                    <h3>No memories yet</h3>
                    <p>Your love story is waiting to be told! Add your first memory to start collecting beautiful moments together.</p>
                    <a href="/memory/add/" class="add-memory-btn" style="margin-top: 20px;">
                        <span class="btn-icon">üíù</span>
                        <span class="btn-text">Create First Memory</span>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Enhanced Slideshow Popup -->
    <div id="slideshowPopup" class="slideshow-popup">
        <span class="close-btn" onclick="closeSlideshow()">‚úñ</span>
        
        <div class="slider-container">
            <div id="sliderTrack" class="slider-track">
                <!-- Slides will be dynamically added here -->
            </div>
        </div>
        
        <div class="slide-navigation-dots" id="slideDots">
            <!-- Dots will be dynamically added here -->
        </div>
        
        <div class="slide-controls">
            <button onclick="prevSlide()">‚èÆ</button>
            <div class="slide-counter" id="slideCounter">1 / {{ memories|length }}</div>
            <button onclick="nextSlide()">‚è≠</button>
        </div>
    </div>

    <footer>
        Made with üíñ for Valentine's Day | ¬© 2024 Valentine World
    </footer>

    <script>
        // Create animated floating hearts
        document.addEventListener('DOMContentLoaded', function() {
            const heartsBg = document.getElementById('heartsBg');
            const heartCount = 25;
            
            for (let i = 0; i < heartCount; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerHTML = '‚ù§';
                
                // Random properties
                const size = Math.random() * 25 + 15;
                const left = Math.random() * 100;
                const delay = Math.random() * 5;
                const duration = Math.random() * 20 + 20;
                
                heart.style.fontSize = `${size}px`;
                heart.style.left = `${left}%`;
                heart.style.animationDelay = `${delay}s`;
                heart.style.animationDuration = `${duration}s`;
                
                heartsBg.appendChild(heart);
            }
            
            // Animate cards on load
            const cards = document.querySelectorAll('.valentine-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0) rotate(0deg)';
                }, index * 100);
            });
            
            // Music functionality
            let music = document.getElementById("bg-music");
            let musicBtn = document.getElementById("musicBtn");
            
            // Autoplay after first click (browser policy fix)
            document.body.addEventListener("click", function(){
                music.play();
            }, { once: true });
            
            window.toggleMusic = function() {
                if(music.paused){
                    music.play();
                    musicBtn.innerText="üîä";
                    musicBtn.style.transform = "rotate(360deg)";
                    setTimeout(() => {
                        musicBtn.style.transform = "";
                    }, 300);
                }else{
                    music.pause();
                    musicBtn.innerText="üîá";
                }
            };
        });

        // Slideshow functionality
        let images = [];
        let currentIndex = 0;

        // Collect all memory images
        document.querySelectorAll('.photo-image').forEach(img => {
            images.push({
                src: img.src,
                title: img.alt || 'Memory'
            });
        });

        const sliderTrack = document.getElementById("sliderTrack");
        const slideDots = document.getElementById("slideDots");
        const slideCounter = document.getElementById("slideCounter");

        // Build the slider
        function buildSlider() {
            sliderTrack.innerHTML = "";
            slideDots.innerHTML = "";
            
            images.forEach((imgData, index) => {
                // Create slide image
                const img = document.createElement("img");
                img.src = imgData.src;
                img.alt = imgData.title;
                sliderTrack.appendChild(img);
                
                // Create navigation dot
                const dot = document.createElement("div");
                dot.className = "dot";
                if (index === 0) dot.classList.add("active");
                dot.onclick = () => goToSlide(index);
                slideDots.appendChild(dot);
            });
            
            updateSlideCounter();
        }

        // Initialize the slider
        buildSlider();

        function openSlideshow(src) {
            currentIndex = images.findIndex(img => img.src === src);
            const popup = document.getElementById("slideshowPopup");
            popup.style.display = "flex";
            
            // Add fade-in animation
            popup.style.opacity = "0";
            setTimeout(() => {
                popup.style.transition = "opacity 0.3s ease";
                popup.style.opacity = "1";
            }, 10);
            
            updateSlide();
        }

        function closeSlideshow() {
            const popup = document.getElementById("slideshowPopup");
            popup.style.opacity = "0";
            setTimeout(() => {
                popup.style.display = "none";
                popup.style.opacity = "1";
            }, 300);
        }

        function updateSlide() {
            sliderTrack.style.transform = `translateX(-${currentIndex * 100}%)`;
            
            // Update active dot
            document.querySelectorAll('.dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
            
            updateSlideCounter();
        }

        function updateSlideCounter() {
            slideCounter.textContent = `${currentIndex + 1} / ${images.length}`;
        }

        function nextSlide() {
            currentIndex = (currentIndex + 1) % images.length;
            updateSlide();
        }

        function prevSlide() {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updateSlide();
        }

        function goToSlide(index) {
            currentIndex = index;
            updateSlide();
        }

        // Touch swipe functionality
        let startX = 0;
        
        sliderTrack.addEventListener("touchstart", e => {
            startX = e.touches[0].clientX;
        });
        
        sliderTrack.addEventListener("touchend", e => {
            let endX = e.changedTouches[0].clientX;
            if (startX - endX > 50) nextSlide();
            if (endX - startX > 50) prevSlide();
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            const popup = document.getElementById('slideshowPopup');
            if (popup.style.display === 'flex') {
                if (e.key === 'ArrowRight') nextSlide();
                if (e.key === 'ArrowLeft') prevSlide();
                if (e.key === 'Escape') closeSlideshow();
            }
        });

        // Add heart click animation to cards
        document.querySelectorAll('.valentine-card').forEach(card => {
            card.addEventListener('click', function(e) {
                if (!e.target.classList.contains('photo-image')) return;
                
                // Create heart animation
                const heart = document.createElement('div');
                heart.innerHTML = 'üíñ';
                heart.style.position = 'fixed';
                heart.style.fontSize = '40px';
                heart.style.color = '#ff6fae';
                heart.style.pointerEvents = 'none';
                heart.style.zIndex = '9999';
                heart.style.left = e.clientX + 'px';
                heart.style.top = e.clientY + 'px';
                heart.style.transform = 'translate(-50%, -50%)';
                document.body.appendChild(heart);
                
                // Animate heart
                heart.style.transition = 'all 0.8s ease-out';
                setTimeout(() => {
                    heart.style.top = e.clientY - 100 + 'px';
                    heart.style.opacity = '0';
                    heart.style.transform = 'translate(-50%, -50%) scale(2)';
                    
                    setTimeout(() => {
                        if (heart.parentNode) {
                            heart.parentNode.removeChild(heart);
                        }
                    }, 800);
                }, 10);
            });
        });




        // Function to create beautiful overlapping effect
// Mobile-friendly overlapping effect
function createOverlapEffect() {
    const cards = document.querySelectorAll('.valentine-card');
    
    // Check if we're on mobile
    const isMobile = window.innerWidth <= 768;
    
    // Skip overlap effect on mobile
    if (isMobile) {
        cards.forEach(card => {
            // Reset any transforms
            card.style.transform = 'none';
            card.style.zIndex = '1';
            
            // Make overlay visible on mobile
            const overlay = card.querySelector('.photo-overlay');
            if (overlay) {
                overlay.style.transform = 'translateY(0)';
                overlay.style.opacity = '0.9';
            }
            
            // Show floating hearts with less opacity
            const floatingHearts = card.querySelectorAll('.heart-float');
            floatingHearts.forEach(heart => {
                heart.style.opacity = '0.3';
                heart.style.fontSize = '20px';
            });
        });
        return; // Exit function for mobile
    }
    
    // Desktop overlapping effect
    const maxOffset = 15;
    const maxRotation = 8;
    
    cards.forEach((card, index) => {
        if (card.closest('.empty-memories')) return;
        
        card.style.transform = '';
        
        const offsetX = (Math.random() * maxOffset * 2) - maxOffset;
        const offsetY = (Math.random() * maxOffset * 2) - maxOffset;
        const rotation = (Math.random() * maxRotation * 2) - maxRotation;
        
        card.style.transition = 'transform 0.5s ease, z-index 0.3s ease';
        card.style.transform = `translate(${offsetX}px, ${offsetY}px) rotate(${rotation}deg)`;
        card.style.zIndex = Math.floor(Math.random() * 5) + 1;
        
        card.dataset.originalTransform = `translate(${offsetX}px, ${offsetY}px) rotate(${rotation}deg)`;
        card.dataset.originalZIndex = card.style.zIndex;
        
        card.addEventListener('mouseenter', function() {
            this.style.zIndex = '100';
            const originalTransform = this.dataset.originalTransform || '';
            this.style.transform = originalTransform + ' translateY(-15px) scale(1.05)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.zIndex = this.dataset.originalZIndex || '1';
            this.style.transform = this.dataset.originalTransform || '';
        });
    });
}

// Handle window resize
let resizeTimeout;
window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(createOverlapEffect, 250);
});

// Initialize overlap effect
document.addEventListener('DOMContentLoaded', function() {
    // ... your existing code ...
    
    // Create overlap effect after cards load
    setTimeout(createOverlapEffect, 300);
});


// Add touch support for mobile
document.addEventListener('DOMContentLoaded', function() {
    // ... your existing code ...
    
    // Mobile touch effects
    const cards = document.querySelectorAll('.valentine-card');
    
    cards.forEach(card => {
        let touchStartTime;
        let touchStartX, touchStartY;
        
        card.addEventListener('touchstart', function(e) {
            touchStartTime = Date.now();
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
            
            // Visual feedback on touch
            this.style.transition = 'all 0.2s ease';
            this.style.transform = 'scale(0.98)';
        });
        
        card.addEventListener('touchend', function(e) {
            const touchDuration = Date.now() - touchStartTime;
            const touchEndX = e.changedTouches[0].clientX;
            const touchEndY = e.changedTouches[0].clientY;
            const deltaX = Math.abs(touchEndX - touchStartX);
            const deltaY = Math.abs(touchEndY - touchStartY);
            
            // Only trigger click if it's a tap (not a swipe)
            if (touchDuration < 300 && deltaX < 10 && deltaY < 10) {
                // Remove scale effect
                this.style.transform = 'scale(1)';
                
                // Add ripple effect for touch feedback
                const ripple = document.createElement('div');
                ripple.style.position = 'absolute';
                ripple.style.background = 'rgba(255, 111, 174, 0.3)';
                ripple.style.borderRadius = '50%';
                ripple.style.width = '0';
                ripple.style.height = '0';
                ripple.style.left = '50%';
                ripple.style.top = '50%';
                ripple.style.transform = 'translate(-50%, -50%)';
                ripple.style.zIndex = '5';
                this.appendChild(ripple);
                
                // Animate ripple
                setTimeout(() => {
                    ripple.style.transition = 'all 0.6s ease';
                    ripple.style.width = '200px';
                    ripple.style.height = '200px';
                    ripple.style.opacity = '0';
                }, 10);
                
                // Remove ripple after animation
                setTimeout(() => {
                    if (ripple.parentNode) {
                        ripple.parentNode.removeChild(ripple);
                    }
                }, 700);
            } else {
                // Reset if it was a swipe
                this.style.transform = '';
            }
        });
        
        // Reset if touch is cancelled
        card.addEventListener('touchcancel', function() {
            this.style.transform = '';
        });
    });
    
    // Initialize overlap effect
    setTimeout(createOverlapEffect, 300);
});
    </script>
</body>
</html>